name: "Lock File: Maintenance"

permissions: {}

on:
  workflow_dispatch:

jobs:
  lock_file-maintenance:
    name: Lock File Maintenance
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@de0fac2e4500dabe0009e67214ff5f5447ce83dd # v6.0.2

      - name: Enable Corepack
        run: corepack enable

      - name: Remove lock file
        run: rm pnpm-lock.yaml

      - name: Install dependencies
        run: pnpm install --lockfile-only

      - name: Create Pull Request
        id: pull-request
        uses: peter-evans/create-pull-request@c0f553fe549906ede9cf27b5156039d195d2ece0 # v8.1.0
        with:
          body: |
            ðŸ”§ This Pull Request updates lock files to use the latest dependency versions.
          branch: chore/deps/lock_file-maintenance
          commit-message: "chore(deps): lock file maintenance"
          title: "chore(deps): lock file maintenance"
          token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}
